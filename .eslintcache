[{"C:\\Users\\Pichau\\Desktop\\code-online\\src\\index.tsx":"1","C:\\Users\\Pichau\\Desktop\\code-online\\src\\reportWebVitals.ts":"2","C:\\Users\\Pichau\\Desktop\\code-online\\src\\App.tsx":"3","C:\\Users\\Pichau\\Desktop\\code-online\\src\\plugins\\unpkg-path-plugin.ts":"4","C:\\Users\\Pichau\\Desktop\\code-online\\src\\plugins\\fetch-plugin.ts":"5","C:\\Users\\Pichau\\Desktop\\code-online\\src\\components\\code-editor.tsx":"6"},{"size":550,"mtime":1670201849639,"results":"7","hashOfConfig":"8"},{"size":440,"mtime":1670201849642,"results":"9","hashOfConfig":"8"},{"size":2307,"mtime":1670206322575,"results":"10","hashOfConfig":"8"},{"size":860,"mtime":1670206100800,"results":"11","hashOfConfig":"8"},{"size":1863,"mtime":1670206084907,"results":"12","hashOfConfig":"8"},{"size":2205,"mtime":1670206747674,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"pehrdd",{"filePath":"16","messages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Pichau\\Desktop\\code-online\\src\\index.tsx",[],"C:\\Users\\Pichau\\Desktop\\code-online\\src\\reportWebVitals.ts",[],"C:\\Users\\Pichau\\Desktop\\code-online\\src\\App.tsx",["27"],"import 'bulmaswatch/superhero/bulmaswatch.min.css';\r\nimport * as esbuild from 'esbuild-wasm';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { unpkgPathPlugin } from './plugins/unpkg-path-plugin';\r\nimport { fetchPlugin } from './plugins/fetch-plugin';\r\nimport CodeEditor from './components/code-editor';\r\n\r\nconst App = () => {\r\n  const ref = useRef<any>();\r\n  const iframe = useRef<any>();\r\n  const [input, setInput] = useState('');\r\n  const [code, setCode] = useState('');\r\n\r\n  const startService = async () => {\r\n    ref.current = await esbuild.startService({\r\n      worker: true,\r\n      wasmURL: 'https://unpkg.com/esbuild-wasm@0.8.57/esbuild.wasm',\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    startService();\r\n  }, []);\r\n\r\n  const onClick = async () => {\r\n    if (!ref.current) {\r\n      return;\r\n    }\r\n\r\n    iframe.current.srcdoc = html;\r\n\r\n    const result = await ref.current.build({\r\n      entryPoints: ['index.js'],\r\n      bundle: true,\r\n      write: false,\r\n      plugins: [unpkgPathPlugin(), fetchPlugin(input)],\r\n      define: {\r\n        'process.env.NODE_ENV': '\"production\"',\r\n        global: 'window',\r\n      },\r\n    });\r\n\r\n    // setCode(result.outputFiles[0].text);\r\n    iframe.current.contentWindow.postMessage(result.outputFiles[0].text, '*');\r\n  };\r\n\r\n  const html = `\r\n    <html>\r\n      <head></head>\r\n      <body>\r\n        <div id=\"root\"></div>\r\n        <script>\r\n          window.addEventListener('message', (event) => {\r\n            try {\r\n              eval(event.data);\r\n            } catch (err) {\r\n              const root = document.querySelector('#root');\r\n              root.innerHTML = '<div style=\"color: red;\"><h4>Runtime Error</h4>' + err + '</div>';\r\n              console.error(err);\r\n            }\r\n          }, false);\r\n        </script>\r\n      </body>\r\n    </html>\r\n  `;\r\n\r\n  return (\r\n    <div>\r\n      <CodeEditor\r\n        initialValue=\"const a = 1;\"\r\n        onChange={(value) => setInput(value)}\r\n      />\r\n      <textarea\r\n        value={input}\r\n        onChange={(e) => setInput(e.target.value)}\r\n      ></textarea>\r\n      <div>\r\n        <button onClick={onClick}>Submit</button>\r\n      </div>\r\n      <pre>{code}</pre>\r\n      <iframe title=\"preview\" ref={iframe} sandbox=\"allow-scripts\" srcDoc={html} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","C:\\Users\\Pichau\\Desktop\\code-online\\src\\plugins\\unpkg-path-plugin.ts",[],"C:\\Users\\Pichau\\Desktop\\code-online\\src\\plugins\\fetch-plugin.ts",[],"C:\\Users\\Pichau\\Desktop\\code-online\\src\\components\\code-editor.tsx",[],{"ruleId":"28","severity":1,"message":"29","line":12,"column":16,"nodeType":"30","messageId":"31","endLine":12,"endColumn":23},"@typescript-eslint/no-unused-vars","'setCode' is assigned a value but never used.","Identifier","unusedVar"]